import React, { useEffect, useState } from 'react'
export default function Room({ socket }){ const [roomId,setRoomId]=useState('global'); const [log,setLog]=useState([]); useEffect(()=>{ socket.emit('join-room', roomId); const on=(m)=>setLog(l=>[m,...l].slice(0,50)); socket.on('system', on); return ()=>{ socket.emit('leave-room', roomId); socket.off('system', on); } },[roomId]); return (<div><h3 className="font-semibold mb-2">Listening Room</h3><div className="flex gap-2 mb-2"><input className="input" value={roomId} onChange={e=>setRoomId(e.target.value)} /><button className="btn-sec" onClick={()=>socket.emit('join-room', roomId)}>Join</button></div><div className="text-xs text-white/60 h-20 overflow-auto bg-white/5 rounded-lg p-2 border border-white/10">{log.map((x,i)=>(<div key={i}>{x}</div>))}</div></div>) }